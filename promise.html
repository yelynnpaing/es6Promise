<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promise</title>
</head>
<body>
    
    <script>

        //promise 
       function Add (nums){
            return new Promise ((resolve, reject) => {
                if(Array.isArray(nums)){
                    let result = nums.reduce((a, b) => a + b);
                    resolve(result)
                }else{
                    reject(result)
                }
            })
       }

       const addResult = Add([2,3]);
       /*
       addResult.then(r => {
            console.log(`Result is ${r}`)
       })
       */
       /*
       Add([4,5]).then(result =>{
            console.log(`Result is ${result}`)
       }).catch( () =>{
            console.log("Somethig Wrong !")
       })
       */

       // .then (Chain)
       Add([4,5]).then(a =>{
            return a+1;
       }).then(b => {
            return b + 1;
       }).then( c => {
            console.log(`Result is ${c}`)
       }).catch( () =>{
            console.log("Somethig Wrong !")
       })

       //asychronous
       console.log("This worked Ahead");

       //async and await
       async function sum(nums){
        let result = await Add(nums);
        console.log(`Result is ${result}`)
       }

       sum([1,2]);
       console.log("this works asychronous");

       //catch ကို ဖမ်းချင်ရင်
       async function sum1 (nums){
        try{
            let result = await Add(nums);
            console.log(`Result is ${result}`)
        } catch{
            console.log("Something Wrong !")
        }
       }

       sum1(2);



    </script>
</body>

</html>